## 제품 기획서(PRD) - 싱크홀 안전지도 (SafePath)

### 1. 배경/문제 정의
- 도시 지역에서 간헐적·반복적으로 발생하는 싱크홀은 시민 안전과 인프라 운영에 직접적 위협
- 개별 사고의 산발적 정보는 의사결정에 한계 → 공간적 패턴과 영향 요인 기반의 시각적 판단 도구 필요

### 2. 제품 목표
- 싱크홀 위험도를 공간적으로 시각화하고 영향 요인을 분석해, 위험 지역 선제 파악 및 대응 의사결정을 지원

### 3. 핵심 사용자/페르소나
- 안전관리자: 점검 우선순위/예산 배분/시민 알림
- 도시계획자: 개발·보수 우선순위, 장기 계획
- 연구자/데이터분석가: 패턴/상관·인과 탐색
- 시민 사용자: 위험 인지 및 경각심 제고

### 4. 주요 기능(우선순위 포함)
1) 지도 시각화 (P0)
   - 히트맵(위험도/최근성/색각이상/고대비 프리셋)
   - 마커(등급/색/아이콘/애니메이션, 상세 팝업)
2) 영향 요인 분석 (P0)
   - 지하철 영향권(100/300/500m) 가중 반영/범례/시각화
3) 시뮬레이션 (P1)
   - 위험도 구성요소(규모/피해/시간/반복) 및 지하철 가중 파라미터 조정
   - 통계/분포/Top5 요약
4) 필터링 (P0)
   - 지역(시·군·구/읍·면·동), 위험도, 지하철 영향도

### 5. 비즈니스/성과 지표(가설)
- 점검 리드타임 감소(전/후 비교)
- 고위험 지역 사전 점검률 증가
- 사용자 참여(세션/체류/재방문) 개선

### 6. 범위/비범위
- 범위: 정적 CSV 기반 가시화/시뮬레이션/기초 분석
- 비범위: 실시간 길찾기/내비게이션(향후 계획), 사용자 계정/권한, DB 영속화

### 7. 데이터 소스/정책
- 사고 데이터: `public/sago.csv` (정적)
- 지하철 데이터: `public/subway.csv` (정적)
- 인코딩: UTF-8 실패 시 EUC-KR 폴백
- (임시 운영) 국가정보자원관리원 화재 영향으로 공공데이터 API는 복구 시까지 사용 중단
- (복구 후 계획) 공공데이터 API 연계로 최신 자료 정기 동기화(주기/한도 준수), 장애 시 정적 CSV 폴백

### 8. 성공 기준(Release Criteria)
- 지도/히트맵/마커 정상 렌더, 영향권 표시 정상
- 시뮬레이션 실행 및 통계/분포/Top5 노출
- 주요 필터 동작(지역/위험/영향)

### 9. 리스크/대응
- 데이터 최신성: 실시간 소스 도입 전까지 정적 업데이트 주기 운영
- API 키/보안: 환경변수 관리, 도메인 제한(운영)
- 성능: 이동 중 히트맵 임시 해제로 렌더 부하 완화
- 공공데이터 API 장애/지연: 지수 백오프 재시도, 캐시 활용, 자동 폴백(정적 CSV), 운영 알림